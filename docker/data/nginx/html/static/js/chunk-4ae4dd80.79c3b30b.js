(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["chunk-4ae4dd80"],{1833:function(n,e,t){},"3b3a":function(n,e,t){"use strict";t.r(e);var i=function(){var n=this,e=n.$createElement,t=n._self._c||e;return t("div",{ref:"container",staticStyle:{width:"100%",height:"100%","background-color":"#000000",margin:"0 auto"},on:{dblclick:n.fullscreenSwich}},[t("div",{staticClass:"buttons-box",attrs:{id:"buttonsBox"}},[t("div",{staticClass:"buttons-box-left"},[n.playing?n._e():t("el-button",{staticStyle:{padding:"5px",margin:"5px 20px"},attrs:{size:"small",icon:"el-icon-video-play"},on:{click:n.playBtnClick}}),n.playing?t("el-button",{staticStyle:{padding:"5px",margin:"5px 20px"},attrs:{size:"small",icon:"el-icon-video-pause"},on:{click:n.pause}}):n._e()],1),t("div",{staticClass:"buttons-box-right"},[t("span",{staticClass:"jessibuca-btn"},[n._v(n._s(n.kBps)+" kb/s")]),t("el-button",{staticStyle:{padding:"5px",margin:"5px 20px 5px 20px"},attrs:{size:"small",icon:"el-icon-video-camera"},on:{click:function(e){return n.jessibuca.screenshot("截图","png",.5)}}}),n.playing?t("el-button",{staticStyle:{padding:"5px",margin:"5px 20px 5px 0"},attrs:{size:"small",icon:"el-icon-full-screen"},on:{click:n.fullscreenSwich}}):n._e()],1)])])},o=[],s={},c={name:"jessibuca",data:function(){return{playing:!1,isNotMute:!1,quieting:!1,fullscreen:!1,loaded:!1,speed:0,performance:"",kBps:0,btnDom:null,videoInfo:null,volume:1,rotate:0,vod:!0,forceNoOffscreen:!1}},props:["videoUrl","error","hasAudio","height"],mounted:function(){var n=this;window.onerror=function(n){},console.log(this._uid);var e=decodeURIComponent(this.$route.params.url);this.$nextTick((function(){n.updatePlayerDomSize(),window.onresize=function(){n.updatePlayerDomSize()},"undefined"==typeof n.videoUrl&&(n.videoUrl=e),n.btnDom=document.getElementById("buttonsBox"),console.log("初始化时的地址为: "+n.videoUrl),n.play(n.videoUrl)}))},watch:{videoUrl:function(n,e){this.play(n)},immediate:!0},methods:{updatePlayerDomSize:function(){var n=this.$refs.container,e=n.parentNode.clientWidth,t=9/16*e,i=Math.min(document.body.clientHeight,document.documentElement.clientHeight);console.log("clientHeight: "+i),console.log("height: "+t),t>i&&(t=i,e=16/9*t),console.log("width: "+e),n.style.width=e+"px",n.style.height=t+"px"},create:function(){var n={};console.log("hasAudio  "+this.hasAudio),s[this._uid]=new window.Jessibuca(Object.assign({container:this.$refs.container,videoBuffer:.2,isResize:!0,decoder:"/js/jessibuca/decoder.js",useMSE:!1,showBandwidth:!1,isFlv:!0,loadingText:"加载中",hasAudio:"undefined"==typeof this.hasAudio||this.hasAudio,debug:!1,supportDblclickFullscreen:!1,operateBtns:{fullscreen:!1,screenshot:!1,play:!1,audio:!1,recorder:!1},record:"record",vod:this.vod,forceNoOffscreen:this.forceNoOffscreen,isNotMute:this.isNotMute},n));var e=s[this._uid],t=this;e.on("load",(function(){})),e.on("log",(function(n){})),e.on("record",(function(n){})),e.on("pause",(function(){t.playing=!1})),e.on("play",(function(){t.playing=!0})),e.on("fullscreen",(function(n){t.fullscreen=n})),e.on("mute",(function(n){t.isNotMute=!n})),e.on("audioInfo",(function(n){})),e.on("videoInfo",(function(n){})),e.on("bps",(function(n){}));e.on("timeUpdate",(function(n){n})),e.on("videoInfo",(function(n){})),e.on("error",(function(n){})),e.on("timeout",(function(){})),e.on("start",(function(){})),e.on("performance",(function(n){var e="卡顿";2===n?e="非常流畅":1===n&&(e="流畅"),t.performance=e})),e.on("buffer",(function(n){})),e.on("stats",(function(n){})),e.on("kBps",(function(n){t.kBps=Math.round(n)})),e.on("videoFrame",(function(){})),e.on("metadata",(function(){}))},playBtnClick:function(n){this.play(this.videoUrl)},play:function(n){var e=this;console.log(n),s[this._uid]&&this.destroy(),this.create(),s[this._uid].on("play",(function(){e.playing=!0,e.loaded=!0,e.quieting=jessibuca.quieting})),s[this._uid].hasLoaded()?s[this._uid].play(n):s[this._uid].on("load",(function(){console.log("load 播放"),s[e._uid].play(n)}))},pause:function(){s[this._uid]&&s[this._uid].pause(),this.playing=!1,this.err="",this.performance=""},mute:function(){s[this._uid]&&s[this._uid].mute()},cancelMute:function(){s[this._uid]&&s[this._uid].cancelMute()},destroy:function(){s[this._uid]&&s[this._uid].destroy(),null==document.getElementById("buttonsBox")&&this.$refs.container.appendChild(this.btnDom),s[this._uid]=null,this.playing=!1,this.err="",this.performance=""},eventcallbacK:function(n,e){},fullscreenSwich:function(){var n=this.isFullscreen();s[this._uid].setFullscreen(!n),this.fullscreen=!n},isFullscreen:function(){return document.fullscreenElement||document.msFullscreenElement||document.mozFullScreenElement||document.webkitFullscreenElement||!1}},destroyed:function(){s[this._uid]&&s[this._uid].destroy(),this.playing=!1,this.loaded=!1,this.performance=""}},u=c,l=(t("c7ba"),t("2877")),a=Object(l["a"])(u,i,o,!1,null,null,null);e["default"]=a.exports},c7ba:function(n,e,t){"use strict";t("1833")}}]);